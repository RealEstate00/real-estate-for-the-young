# 서울시 사회주택 종합 크롤링 시스템

## 🏠 프로젝트 개요
서울시 사회주택 정보를 5개 카테고리에서 종합적으로 수집하는 고도화된 크롤링 시스템

## 🎯 크롤링 대상
- **대상 사이트**: https://soco.seoul.go.kr/coHouse/pgm/home/cohome/list.do?menuNo=200043#
- **페이지 유형**: 동적 웹페이지 (JavaScript 기반)
- **수집 범위**: 5개 주요 카테고리 전체

## 📊 수집 데이터 카테고리

### 1. 상세소개
- **주택명**: 사회주택의 공식 명칭
- **주소**: 정확한 위치 정보
- **입주대상**: 입주 자격 조건
- **주거형태**: 주택 유형 (다세대주택, 아파트 등)
- **면적**: 전용/공용 면적 상세 정보
- **총 주거인원**: 수용 인원 및 호실 정보

### 2. 평면도
- **이미지 수집**: 모든 평면도 이미지 URL
- **이미지 메타데이터**: alt 텍스트, 파일 정보
- **수집량**: 평균 50+ 이미지 파일

### 3. 입주현황
- **방이름**: 호실별 식별자 (101호, 201호 등)
- **입주타입**: 주거 유형 분류
- **면적**: 각 호실별 정확한 면적
- **보증금**: 입주 보증금 정보
- **월임대료**: 월별 임대료
- **관리비**: 월별 관리비
- **층/호**: 위치 정보
- **인원**: 수용 가능 인원
- **입주가능일**: 입주 가능 시점
- **입주가능**: 현재 입주 가능 여부

### 4. 편의시설
- **교통정보**: 지하철, 버스 노선 정보
- **주변시설**: 편의시설 목록
- **접근성**: 대중교통 접근성 정보

### 5. 사업자소개
- **상호**: 운영 주체명
- **대표자**: 대표자 정보
- **대표전화**: 연락처
- **이메일**: 이메일 주소

## 🚀 기술 스택

### 크롤링 엔진
- **Playwright**: 동적 페이지 처리 및 JavaScript 실행
- **Python 3.8+**: 메인 개발 언어
- **asyncio**: 비동기 처리로 성능 최적화

### 데이터 처리
- **pandas**: 데이터 구조화 및 CSV 처리
- **json**: JSON 형태 상세 데이터 저장
- **re (정규식)**: 텍스트 파싱 및 정리

### 아키텍처
- **클래스 기반 설계**: SeoulHousingCrawler 클래스
- **모듈화**: 카테고리별 독립 메서드
- **에러 핸들링**: 견고한 예외 처리

## 📁 출력 파일

### 1. seoul_housing_complete.json
```json
{
  "주택명": "오늘공동체주택",
  "주소": "서울 도봉구 도봉로191길 80 (도봉동 351-2)",
  "평면도_이미지": [
    {
      "url": "/cohome/cmmn/file/fileDown.do?...",
      "alt": "오늘공동체주택_평면도_1"
    }
  ],
  "입주현황": [
    {
      "방이름": "101호",
      "면적": "28.49m²",
      "보증금": "50,000,000원",
      "월임대료": "320,000원"
    }
  ]
}
```

### 2. seoul_housing_data.csv
| 주택명 | 주소 | 평면도_이미지_수 | 입주가능_방수 | 상호 | 대표전화 |
|--------|------|------------------|---------------|------|----------|
| 오늘공동체주택 | 서울 도봉구... | 54 | 6 | ... | ... |

## 🔧 설치 및 실행

### 1. 환경 설정
```bash
# 의존성 설치
pip install -r playwright_requirements.txt

# Playwright 브라우저 설치
python -m playwright install chromium
```

### 2. 크롤링 실행
```bash
python seoul_housing_crawler.py
```

### 3. 실행 결과
- **처리 시간**: 약 30-60초 (네트워크 상황에 따라)
- **수집 데이터량**: 
  - 평면도 이미지: 50+ 개
  - 입주현황: 6개 방 정보
  - 기본 정보: 15개 필드

## 📈 성능 및 특징

### 수집 성능
- **이미지 수집**: 54개 평면도 이미지 URL
- **테이블 데이터**: 6개 호실 상세 정보
- **메타데이터**: 15개 기본 필드

### 기술적 특징
- **동적 탭 전환**: 5개 카테고리 자동 탐색
- **JavaScript 실행**: `modify()` 함수 직접 호출
- **텍스트 정규화**: 공백/줄바꿈 자동 정리
- **에러 복구**: 셀렉터 실패시 백업 로직

### 확장성
- **모듈화 설계**: 새로운 카테고리 쉽게 추가
- **설정 가능**: 헤드리스/GUI 모드 전환
- **배치 처리**: 여러 주택 동시 처리 가능

## 🚨 주의사항

### 기술적 고려사항
- **동적 로딩**: 각 탭 전환시 2초 대기
- **네트워크 의존성**: 안정적인 인터넷 연결 필요
- **브라우저 리소스**: Chromium 브라우저 메모리 사용

### 윤리적 사용
- **서버 부하 최소화**: slow_mo=2000 설정
- **합법적 사용**: 공개 데이터만 수집
- **개인정보 보호**: 민감 정보 제외

## 🔄 업데이트 이력
- **v2.0**: 5개 카테고리 종합 크롤링 시스템 구축
- **v1.0**: 기본 상세소개 데이터 수집

## 💡 활용 방안
- **부동산 분석**: 사회주택 시장 동향 파악
- **데이터 시각화**: 지역별/유형별 분포 분석  
- **정책 연구**: 사회주택 공급 현황 연구
- **서비스 개발**: 주택 정보 제공 서비스 구축

---

> **개발자**: AI Assistant  
> **최종 업데이트**: 2025년  
> **라이선스**: MIT License