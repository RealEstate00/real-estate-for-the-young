# =========================
# Runtime target: Python 3.12 (recommended)
# For Python 3.13, some libs (uvloop/httptools/greenlet) are skipped via markers.
# =========================

# FastAPI & Web server
fastapi>=0.115.0  # 업데이트 (pydantic 2.x 완전 지원)
uvicorn[standard]>=0.30.0  # 업데이트
uvloop>=0.20.0; python_version < "3.13" and sys_platform != "win32"      # skip on 3.13 and Windows
httptools>=0.6.1; python_version < "3.13" and sys_platform != "win32"    # skip on 3.13 and Windows
gunicorn==21.2.0
orjson>=3.10.7                               # faster JSON for FastAPI (optional but recommended)

# Database (PostgreSQL-first)
psycopg[binary]==3.2.3
sqlalchemy==2.0.23
alembic>=1.13.0
pgvector>=0.2.5                               # SQLAlchemy type for pgvector

# Redis & task queue
redis==5.0.1
celery==5.3.4

# Crawling
playwright>=1.46
beautifulsoup4==4.12.2
requests==2.31.0
lxml>=5.2.1

# Data processing  (Py3.12 recommended for these pins)
pandas==2.2.3
numpy==2.1.3
pydantic>=2.9.0
pydantic-settings==2.5.0
chardet==5.2.0

# Vector Database & Embeddings
chromadb>=0.4.0
sentence-transformers>=2.2.0
tqdm>=4.65.0

# Utilities
python-multipart==0.0.6
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-dotenv==1.0.0                # .env 파일 로딩 (API 키 관리)
pyyaml==6.0.1
typer>=0.12.0                                 # CLI entrypoints
rich>=13.7.1                                  # nicer CLI logs

# Monitoring & logging
prometheus-client==0.19.0
structlog>=24.4.0
loguru==0.7.2

# Web app / notebooks
streamlit>=1.36.0
jupyter==1.0.0
seaborn==0.13.0

# Dev tools
pytest>=8.2                                     # Py3.13 compatibility
pytest-asyncio>=0.24.0 
black>=24.8.0
isort>=5.13.0 
ruff>=0.6.0                                     # flake8 대체 (더 빠름)
greenlet>=3.1; python_version < "3.13"          # SQLAlchemy sync-async aid (skip on 3.13)

# LangChain 코어 (numpy 2.x 호환)
langchain>=0.3.0
langchain-community>=0.3.0
langchain-core>=0.3.0
langchain-ollama>=0.2.0
langchain-openai>=0.2.0 


# Chroma DB
chromadb>=0.5.0  # 최신 버전으로 업데이트

# 임베딩 모델 (한국어 지원)
sentence-transformers>=3.0.0  # 최신 버전
transformers>=4.45.0  # 업데이트

# 추가 LangChain 통합 (필요시 주석 해제)
langchain-openai>=0.2.0
# langchain-anthropic>=0.3.0
langchain_huggingface>=0.1.0  # HuggingFace 임베딩용
langchain_groq>=0.1.0  # Groq LLM 통합
groq>=0.9.0  # Groq API 클라이언트
